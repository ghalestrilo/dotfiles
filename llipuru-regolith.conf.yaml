- clean: ['~']
- clean: ['~/.local/share/SuperCollider/downloaded-quarks/Dirt-Samples']



- shell:
  - [dotbot -d . -c scripts/ppas.conf.yaml, Adding PPAs]

# Installing shit through scripts
- shell:
  - command: [sh common/hasklig.sh, Installing Hasklig]
    if: '[ !-d /usr/share/fonts/opentype/hasklig ]'
  - [sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)", Installing Oh-My-Zsh]



# Installing Terminal Tools
- shell:
  - command: '[/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)", Installing Homebrew]'
    if: '[ ! command -v brew ]'
  - command: [sudo apt-get install -y alacritty, Installing alacritty]
    if: '[ ! command -v alacritty ]'
  - command: [gsettings set org.gnome.desktop.default-applications.terminal exec alacritty, Making Alacritty the default terminal]
    if: '[ command -v alacritty ]'
  - [sudo apt-get install -y zsh, Installing zsh]
  - [chsh -s $(which zsh), Making zsh default shell]
  - [sudo apt-get install -y thefuck, Installing thefuck]
  - [sudo apt-get install -y tldr, Installing tldr]
  - [sudo apt-get install -y tig, Installing tig]
  - [sudo apt-get install -y httpie, Installing HTTPie]
  - [sudo apt-get install -y cloc, Installing CLOC]
  - [brew install scc, Installing SCC]

# Installing YTT
- shell:
  - [brew tap k14s/tap, Adding ytt to taps]
  - [brew install ytt kbld kapp imgpkg kwt vendir, Installing ytt]

# Dev Tools
- shell:
  - [echo Installing Dev Tools]
  - [sudo apt-get install -y docker.io, Installing Docker]
  - [sudo systemctl start docker, Starting docker engine]
  - [sudo systemctl enable docker, Enabling docker module]
  - [sudo usermod -aG docker \$(whoami), Adding self to docker group]
  - [sudo apt-get install -y docker-compose, Installing docker-compose]
  - [snap install insomnia, Installing Insomnia]

# Node Stuff
- shell:
  - [echo Installing Node and Tools]
  - [curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh | bash, Installing NVM]
  - [nvm install node, Installing NodeJS]
  # - [sudo apt-get install -y nodejs, Installing NodeJS]
  # - [sudo apt-get install -y npm, Installing npm]
  # - [sudo apt-get install -y yarnpkg, Installing yarn]
  - [npm i -g -y gatsby-cli, Installing Gatsby]
  - [npm i -g -y dockly, Installing Dockly]
  - [npm i -g -y expo-cli, Installing Expo CLI]
  - [npm i -g -y react-native-cli, Installing React Native CLI]


# Multimedia Stuff
- shell:
  - [echo Setting up Tidal]
  - [sudo apt-get install -y supercollider, Installing Supercollider]
  - [sudo apt-get install -y sc3-plugins, Installing SC3 Plugins]
  - [sudo apt-get install -y haskell-platform, Installing Haskell (ghc, ghci)]
  - [sudo apt-get install -y cabal, Installing Cabal]
  - [cabal update, Updating Cabal]
  - [cabal install tidal, Installing Tidal]

# Gaming
- shell:
  - [echo Setting up gaming stuff]
  - [sudo apt-get install -y wine, Installing Wine]
  - [sudo apt-get install -y steam, Installing Steam]
  - [sudo apt-get install -y higan, Installing Wine]

# Media Tools
- shell:
  - [echo Installing Media Tools]
  - [sudo apt-get install -y obs-studio, Installing OBS]
  - [sudo apt-get install -y musescore3, Installing Musescore]
  - [sudo apt-get install -y cmus, Installing cmus]
  # - [sudo apt-get install -y cava, Installing cava]

# Office and Misc Tools
- shell:
  - [echo Installing File Tools]
  - [sudo apt-get install -y syncthing, Installing Syncthing]
  - [sudo apt-get install -y nnn, Installing nnn]
  - [brew install broot, Installing broot]
  - [sudo apt-get install -y zathura, Installing zathura]



# Linking Dotfiles
- link:
    ~/.profile:
      force: true
      path: regolith/.profile
    ~/.config/regolith/i3/config:
      force: true
      create: true
      path: regolith/i3config
    ~/.Xresources-regolith:
      force: true
      path: regolith/Xresources-regolith
    ~/.oh-my-zsh/themes/lalis.zsh-theme:
      path: common/lalis.zsh-theme
      force: true
    ~/.taskrc: .taskrc
    ~/.zshrc:
      path: .zshrc
      force: true
    ~/.config/alacritty/alacritty.yml:
      create: true
      path: common/alacritty.yml
    ~/.config/kak/kakrc:
      path: common/kakrc
      create: true
      force: true
    ~/.config/init.vim:
      path: common/init.vim
      force: true
    ~/.config/MuseScore/MuseScore2.ini:
      path: common/MuseScore2.ini
      force: true
    ~/.config/MuseScore/MuseScore3.ini:
      path: common/MuseScore3.ini
      force: true
    # VSCodium
    ~/.config/VSCodium/User:
      path: common/code/*
      glob: true
      force: true
    ~/.config/zathura/zathurarc: common/zathurarc
    # Gaming Stuff
    /lib/udev/rules.d/99-steam-controller-perms.rules:
        create: true
        force: true
        path: regolith/steam-controller-config
    ~/.config/SuperCollider:
      path: common/supercollider/*
      glob: true
      force: true
    # Folder Shortcuts
    ~/screcs: ~/.local/share/SuperCollider/Recordings
    ~/dirtsamples: ~/.local/share/SuperCollider/downloaded-quarks/Dirt-Samples

# Steam Stuff (https://steamcommunity.com/app/221410/discussions/0/1693795812304458372/)
- shell:
  - sudo chmod 666 /dev/uinput
  - sudo apt-get install python3-autopilot
  - sudo udevadm trigger